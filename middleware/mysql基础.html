
<!doctype html>
<html lang="zh" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://liutianba7.github.io/middleware/mysql%E5%9F%BA%E7%A1%80.html">
      
      
        <link rel="prev" href="../tools/docker.html">
      
      
        <link rel="next" href="mysql%E9%AB%98%E7%BA%A7.html">
      
      
        
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.1">
    
    
      
        <title>mysql 基础 - LiuTianBa7 's Blog</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.484c7ddc.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="white" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#mysql" class="md-skip">
          跳转至
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="页眉">
    <a href="../index.html" title="LiuTianBa7 &#39;s Blog" class="md-header__button md-logo" aria-label="LiuTianBa7 's Blog" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m12 8-1.33.09C9.81 7.07 7.4 4.5 5 4.5c0 0-1.97 2.96-.04 6.91-.55.83-.89 1.26-.96 2.25l-1.93.29.21.98 1.76-.26.14.71-1.57.94.47.89 1.45-.89C5.68 18.76 8.59 20 12 20s6.32-1.24 7.47-3.68l1.45.89.47-.89-1.57-.94.14-.71 1.76.26.21-.98-1.93-.29c-.07-.99-.41-1.42-.96-2.25C20.97 7.46 19 4.5 19 4.5c-2.4 0-4.81 2.57-5.67 3.59zm-3 3a1 1 0 0 1 1 1 1 1 0 0 1-1 1 1 1 0 0 1-1-1 1 1 0 0 1 1-1m6 0a1 1 0 0 1 1 1 1 1 0 0 1-1 1 1 1 0 0 1-1-1 1 1 0 0 1 1-1m-4 3h2l-.7 1.39c.2.64.76 1.11 1.45 1.11a1.5 1.5 0 0 0 1.5-1.5h.5a2 2 0 0 1-2 2c-.75 0-1.4-.41-1.75-1-.35.59-1 1-1.75 1a2 2 0 0 1-2-2h.5a1.5 1.5 0 0 0 1.5 1.5c.69 0 1.25-.47 1.45-1.11z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            LiuTianBa7 's Blog
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              mysql 基础
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="white" data-md-color-accent="indigo"  aria-label="切换至深色模式"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="切换至深色模式" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent="indigo"  aria-label="切换至浅色模式"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="切换至浅色模式" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="搜索" placeholder="搜索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="查找">
        
        <button type="reset" class="md-search__icon md-icon" title="清空当前内容" aria-label="清空当前内容" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            正在初始化搜索引擎
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/liutianba7/liutianba7.github.io" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    blog
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="标签" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../index.html" class="md-tabs__link">
        
  
  
    
  
  Welcome

      </a>
    </li>
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../java/ssm.html" class="md-tabs__link">
          
  
  
  Java

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../interview/index.html" class="md-tabs__link">
          
  
  
  Bagu

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../journal/2026-02.html" class="md-tabs__link">
          
  
  
  Journal

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../tools/git.html" class="md-tabs__link">
          
  
  
  Tools

        </a>
      </li>
    
  

      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="mysql%E5%9F%BA%E7%A1%80.html" class="md-tabs__link">
          
  
  
  Middleware

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../linux/basic.html" class="md-tabs__link">
          
  
  
  Linux

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="导航栏" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../index.html" title="LiuTianBa7 &#39;s Blog" class="md-nav__button md-logo" aria-label="LiuTianBa7 's Blog" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m12 8-1.33.09C9.81 7.07 7.4 4.5 5 4.5c0 0-1.97 2.96-.04 6.91-.55.83-.89 1.26-.96 2.25l-1.93.29.21.98 1.76-.26.14.71-1.57.94.47.89 1.45-.89C5.68 18.76 8.59 20 12 20s6.32-1.24 7.47-3.68l1.45.89.47-.89-1.57-.94.14-.71 1.76.26.21-.98-1.93-.29c-.07-.99-.41-1.42-.96-2.25C20.97 7.46 19 4.5 19 4.5c-2.4 0-4.81 2.57-5.67 3.59zm-3 3a1 1 0 0 1 1 1 1 1 0 0 1-1 1 1 1 0 0 1-1-1 1 1 0 0 1 1-1m6 0a1 1 0 0 1 1 1 1 1 0 0 1-1 1 1 1 0 0 1-1-1 1 1 0 0 1 1-1m-4 3h2l-.7 1.39c.2.64.76 1.11 1.45 1.11a1.5 1.5 0 0 0 1.5-1.5h.5a2 2 0 0 1-2 2c-.75 0-1.4-.41-1.75-1-.35.59-1 1-1.75 1a2 2 0 0 1-2-2h.5a1.5 1.5 0 0 0 1.5 1.5c.69 0 1.25-.47 1.45-1.11z"/></svg>

    </a>
    LiuTianBa7 's Blog
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/liutianba7/liutianba7.github.io" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    blog
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../index.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Welcome
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Java
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Java
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../java/ssm.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ssm
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../java/springboot.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    springboot
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Bagu
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Bagu
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../interview/index.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    八股复习路线
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../interview/points/ssm.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ssm
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../interview/points/springboot%2BCloud.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    spring[boot|cloud]
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../interview/points/mysql.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    mysql
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../interview/points/redis.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    redis
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../interview/points/es.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    elasticsearch
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../interview/points/rmq.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    rmq
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../interview/points/seata.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    seata
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../interview/points/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    设计模式
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Journal
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Journal
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../journal/2026-02.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    202602
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Tools
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    Tools
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tools/git.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    git
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tools/docker.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    docker
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" checked>
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Middleware
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    Middleware
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    mysql 基础
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="mysql%E5%9F%BA%E7%A1%80.html" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    mysql 基础
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        一、数据库基础
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="一、数据库基础">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1" class="md-nav__link">
    <span class="md-ellipsis">
      
        1. 数据库语言类型
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-sql" class="md-nav__link">
    <span class="md-ellipsis">
      
        2. sql
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2. sql">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#21-ddl" class="md-nav__link">
    <span class="md-ellipsis">
      
        2.1 DDL
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#22-dml" class="md-nav__link">
    <span class="md-ellipsis">
      
        2.2 DML
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#23-dcl" class="md-nav__link">
    <span class="md-ellipsis">
      
        2.3 DCL
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3" class="md-nav__link">
    <span class="md-ellipsis">
      
        3. 约束
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3. 约束">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#31" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.1 主键约束
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#32" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.2 自增长约束
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#33" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.3 非空约束
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#34" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.4 唯一约束
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4" class="md-nav__link">
    <span class="md-ellipsis">
      
        4. 数据库的备份与还原
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5" class="md-nav__link">
    <span class="md-ellipsis">
      
        5. 数据库三范式
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      
        二、单表查询
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="二、单表查询">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        1. 简单查询
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2" class="md-nav__link">
    <span class="md-ellipsis">
      
        2. 条件查询
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        3. 排序查询
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        4. 聚合查询
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        5. 分组查询
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#6" class="md-nav__link">
    <span class="md-ellipsis">
      
        6. 分页查询
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    <span class="md-ellipsis">
      
        三、多表查询
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="三、多表查询">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1_2" class="md-nav__link">
    <span class="md-ellipsis">
      
        1. 交叉查询
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        2. 内连接查询
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3_2" class="md-nav__link">
    <span class="md-ellipsis">
      
        3. 外连接
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4_2" class="md-nav__link">
    <span class="md-ellipsis">
      
        4. 全外连接
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5_2" class="md-nav__link">
    <span class="md-ellipsis">
      
        5. 子查询
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#mysql_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        四、MySql 常用函数
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="四、MySql 常用函数">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1_3" class="md-nav__link">
    <span class="md-ellipsis">
      
        1. 字符串函数
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2_2" class="md-nav__link">
    <span class="md-ellipsis">
      
        2. 数值函数
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3_3" class="md-nav__link">
    <span class="md-ellipsis">
      
        3. 日期函数
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4_3" class="md-nav__link">
    <span class="md-ellipsis">
      
        4. 流程函数
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#jdbc" class="md-nav__link">
    <span class="md-ellipsis">
      
        五、JDBC
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="五、JDBC">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1_4" class="md-nav__link">
    <span class="md-ellipsis">
      
        1. 使用方法
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-preparedstatement" class="md-nav__link">
    <span class="md-ellipsis">
      
        2. PreparedStatement
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    <span class="md-ellipsis">
      
        六、事务以及连接池
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="六、事务以及连接池">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-preparedstatement" class="md-nav__link">
    <span class="md-ellipsis">
      
        1. PreparedStatement 批量添加
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2_3" class="md-nav__link">
    <span class="md-ellipsis">
      
        2. 连接池
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3_4" class="md-nav__link">
    <span class="md-ellipsis">
      
        3. 事务
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3. 事务">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#31_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.1 事务的概念
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#32-threadlocal" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.2 ThreadLocal
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#33_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.3 隔离级别
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="mysql%E9%AB%98%E7%BA%A7.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    mysql 高级
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="redis.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    redis
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="minio.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    minio
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Linux
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            
  
    Linux
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../linux/basic.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    basic
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        一、数据库基础
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="一、数据库基础">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1" class="md-nav__link">
    <span class="md-ellipsis">
      
        1. 数据库语言类型
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-sql" class="md-nav__link">
    <span class="md-ellipsis">
      
        2. sql
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2. sql">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#21-ddl" class="md-nav__link">
    <span class="md-ellipsis">
      
        2.1 DDL
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#22-dml" class="md-nav__link">
    <span class="md-ellipsis">
      
        2.2 DML
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#23-dcl" class="md-nav__link">
    <span class="md-ellipsis">
      
        2.3 DCL
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3" class="md-nav__link">
    <span class="md-ellipsis">
      
        3. 约束
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3. 约束">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#31" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.1 主键约束
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#32" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.2 自增长约束
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#33" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.3 非空约束
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#34" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.4 唯一约束
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4" class="md-nav__link">
    <span class="md-ellipsis">
      
        4. 数据库的备份与还原
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5" class="md-nav__link">
    <span class="md-ellipsis">
      
        5. 数据库三范式
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      
        二、单表查询
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="二、单表查询">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        1. 简单查询
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2" class="md-nav__link">
    <span class="md-ellipsis">
      
        2. 条件查询
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        3. 排序查询
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        4. 聚合查询
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        5. 分组查询
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#6" class="md-nav__link">
    <span class="md-ellipsis">
      
        6. 分页查询
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    <span class="md-ellipsis">
      
        三、多表查询
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="三、多表查询">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1_2" class="md-nav__link">
    <span class="md-ellipsis">
      
        1. 交叉查询
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        2. 内连接查询
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3_2" class="md-nav__link">
    <span class="md-ellipsis">
      
        3. 外连接
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4_2" class="md-nav__link">
    <span class="md-ellipsis">
      
        4. 全外连接
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5_2" class="md-nav__link">
    <span class="md-ellipsis">
      
        5. 子查询
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#mysql_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        四、MySql 常用函数
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="四、MySql 常用函数">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1_3" class="md-nav__link">
    <span class="md-ellipsis">
      
        1. 字符串函数
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2_2" class="md-nav__link">
    <span class="md-ellipsis">
      
        2. 数值函数
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3_3" class="md-nav__link">
    <span class="md-ellipsis">
      
        3. 日期函数
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4_3" class="md-nav__link">
    <span class="md-ellipsis">
      
        4. 流程函数
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#jdbc" class="md-nav__link">
    <span class="md-ellipsis">
      
        五、JDBC
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="五、JDBC">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1_4" class="md-nav__link">
    <span class="md-ellipsis">
      
        1. 使用方法
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-preparedstatement" class="md-nav__link">
    <span class="md-ellipsis">
      
        2. PreparedStatement
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    <span class="md-ellipsis">
      
        六、事务以及连接池
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="六、事务以及连接池">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-preparedstatement" class="md-nav__link">
    <span class="md-ellipsis">
      
        1. PreparedStatement 批量添加
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2_3" class="md-nav__link">
    <span class="md-ellipsis">
      
        2. 连接池
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3_4" class="md-nav__link">
    <span class="md-ellipsis">
      
        3. 事务
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3. 事务">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#31_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.1 事务的概念
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#32-threadlocal" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.2 ThreadLocal
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#33_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.3 隔离级别
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="mysql">mysql 基础</h1>
<h2 id="_1">一、数据库基础</h2>
<h4 id="1">1. 数据库语言类型</h4>
<ul>
<li>
<p>数据定义语言：简称DDL(Data Definition Language)，用来定义数据库对象：数据库，表，列等。关键字：create，alter，drop等</p>
</li>
<li>
<p>数据操作语言：简称DML(Data Manipulation Language)，用来对数据库中表的记录进行操作。关键字：insert，delete，update等</p>
</li>
<li>
<p>数据控制语言：简称DCL(Data Control Language)，用来定义数据库的访问权限和安全级别，及创建用户。</p>
</li>
<li>
<p>数据查询语言：简称DQL(Data Query Language)，用来查询数据库中表的记录。关键字：select，from，where等</p>
</li>
</ul>
<h4 id="2-sql">2. sql</h4>
<div class="highlight"><pre><span></span><code>1. sql语句以 ; 作为结尾
2. create table 后面的内容要以 () 来包裹，而不是{}
3. 变量名如果和 mysql 冲突了，用 `` 来包裹
</code></pre></div>
<h5 id="21-ddl">2.1 DDL</h5>
<ol>
<li>数据库</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="k">show</span><span class="w"> </span><span class="n">databases</span><span class="p">;</span>
<span class="k">create</span><span class="w"> </span><span class="n">databases</span><span class="w"> </span><span class="n">xxx</span><span class="p">;</span>
<span class="n">use</span><span class="w"> </span><span class="n">databasea</span><span class="p">;</span>
<span class="k">drop</span><span class="w"> </span><span class="n">databases</span><span class="w"> </span><span class="n">xxx</span><span class="p">;</span>
</code></pre></div>
<ol>
<li>表</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="k">create</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">t_name</span><span class="p">(</span>
<span class="w">    </span><span class="err">字段名</span><span class="w"> </span><span class="err">类型</span><span class="w"> </span><span class="p">[</span><span class="err">约束</span><span class="p">]</span>
<span class="p">)</span>

<span class="k">create</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="k">not</span><span class="w"> </span><span class="k">exists</span><span class="w"> </span><span class="n">t_name</span><span class="p">(</span><span class="w">  </span>
<span class="w">    </span><span class="n">id</span><span class="w"> </span><span class="nb">int</span><span class="w"> </span><span class="k">primary</span><span class="w"> </span><span class="k">key</span><span class="p">,</span>
<span class="w">    </span><span class="p">...</span>
<span class="w">    </span><span class="p">...</span>
<span class="p">);</span>

<span class="o">#</span><span class="w"> </span><span class="err">查看表</span>
<span class="k">show</span><span class="w"> </span><span class="n">tabels</span><span class="p">;</span>
<span class="k">desc</span><span class="w"> </span><span class="n">t_name</span><span class="p">;</span>

<span class="o">#</span><span class="w"> </span><span class="err">删除表</span>
<span class="k">drop</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">t_name</span><span class="p">;</span>

<span class="o">#</span><span class="w"> </span><span class="err">修改表</span>
<span class="k">alter</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">t_name</span><span class="w"> </span><span class="p">[</span><span class="k">add</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">drop</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">modify</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">change</span><span class="p">]</span>
<span class="n">remane</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">t_name</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">t_new_name</span>
</code></pre></div>
<h5 id="22-dml">2.2 DML</h5>
<ol>
<li>新增数据</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="k">insert</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="n">t_name</span><span class="w"> </span><span class="p">(</span><span class="n">field1</span><span class="p">,</span><span class="w"> </span><span class="n">field2</span><span class="p">,</span><span class="w"> </span><span class="p">...)</span><span class="w"> </span>
<span class="k">values</span>
<span class="w">    </span><span class="p">(</span><span class="n">fa1</span><span class="p">,</span><span class="w"> </span><span class="n">fa2</span><span class="p">,</span><span class="w"> </span><span class="p">...),</span>
<span class="w">    </span><span class="p">(...)</span>
<span class="w">    </span><span class="p">...</span>
<span class="w">    </span><span class="p">(</span><span class="n">fa1</span><span class="p">,</span><span class="w"> </span><span class="n">fa2</span><span class="p">);</span>
</code></pre></div>
<ol>
<li>删除数据</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="k">delete</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">t_name</span><span class="w"> </span>
<span class="k">where</span><span class="w"> </span><span class="err">子条件</span>
</code></pre></div>
<ol>
<li>修改数据</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="k">update</span><span class="w"> </span><span class="n">t_name</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="n">field</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">field</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="err">子条件</span>
</code></pre></div>
<ol>
<li>查询数据</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="n">selete</span><span class="w"> </span><span class="n">f1</span><span class="p">,</span><span class="w"> </span><span class="n">f2</span><span class="p">,</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">t_name</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="err">子条件</span>
</code></pre></div>
<h5 id="23-dcl">2.3 DCL</h5>
<pre><code>我们现在默认使用的都是root用户，超级管理员，拥有全部的权限。但是，一个公司里面的数据库服务器上面可能同时运行着很多个项目的数据库。所以，我们应该根据不同的项目建立不同的用户，分配不同的权限来管理和维护数据库。
</code></pre>
<ol>
<li>创建用户</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="k">CREATE</span><span class="w"> </span><span class="k">USER</span><span class="w"> </span><span class="s1">&#39;用户名&#39;</span><span class="o">@</span><span class="s1">&#39;主机名&#39;</span><span class="w"> </span><span class="n">IDENTIFIED</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="s1">&#39;密码&#39;</span><span class="p">;</span>

<span class="mi">1</span><span class="p">.</span><span class="err">用户名</span><span class="p">:</span><span class="err">创建的用户名</span>
<span class="mi">2</span><span class="p">.</span><span class="err">主机名</span><span class="p">:</span><span class="err">指定该用户在哪个主机上可以登录</span><span class="p">,</span><span class="err">如果是本地用户</span><span class="p">,</span><span class="err">可以用</span><span class="s1">&#39;localhost&#39;</span><span class="p">,</span><span class="err">如果想让该用户可以任意远程主机登录</span><span class="p">,</span><span class="err">可以使用通配符</span><span class="o">%</span>
<span class="mi">3</span><span class="p">.</span><span class="err">密码</span><span class="p">:</span><span class="err">该用户登录的密码</span><span class="p">,</span><span class="err">密码可以为空</span><span class="p">,</span><span class="err">如果为空</span><span class="p">,</span><span class="err">该用户可以不输入密码就可以登录</span><span class="n">mysql</span>
</code></pre></div>
<ol>
<li>授权用户</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="k">GRANT</span><span class="w"> </span><span class="err">权限</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="err">权限</span><span class="mi">2</span><span class="p">...</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="err">数据库名</span><span class="p">.</span><span class="err">表名</span><span class="w"> </span><span class="k">TO</span><span class="w"> </span><span class="s1">&#39;用户名&#39;</span><span class="o">@</span><span class="s1">&#39;主机名&#39;</span><span class="p">;</span>

<span class="n">a</span><span class="p">.</span><span class="k">GRANT</span><span class="p">:</span><span class="err">授权关键字</span>
<span class="n">b</span><span class="p">.</span><span class="err">授予用户的权限</span><span class="p">,</span><span class="err">比如</span><span class="w">  </span><span class="s1">&#39;select&#39;</span><span class="w"> </span><span class="s1">&#39;insert&#39;</span><span class="w"> </span><span class="s1">&#39;update&#39;</span><span class="err">等</span><span class="p">,</span><span class="err">如果要授予所有的权限</span><span class="p">,</span><span class="err">使用</span><span class="w"> </span><span class="s1">&#39;ALL&#39;</span>
<span class="k">c</span><span class="p">.</span><span class="err">数据库名</span><span class="p">.</span><span class="err">表名</span><span class="p">:</span><span class="err">该用户操作哪个数据库的哪些表</span><span class="p">,</span><span class="err">如果要授予该用户对所有数据库和表的相关操作权限</span><span class="p">,</span><span class="err">就可以用</span><span class="o">*</span><span class="err">表示</span><span class="p">:</span><span class="w"> </span><span class="o">*</span><span class="p">.</span><span class="o">*</span>
<span class="n">d</span><span class="p">.</span><span class="s1">&#39;用户名&#39;</span><span class="o">@</span><span class="s1">&#39;主机名&#39;</span><span class="p">:</span><span class="err">给哪个用户分配权限</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="n">eg</span><span class="p">:</span><span class="err">给</span><span class="n">user1用户分配对test这个数据库操作的权限</span>
<span class="k">GRANT</span><span class="w"> </span><span class="k">CREATE</span><span class="p">,</span><span class="k">ALTER</span><span class="p">,</span><span class="k">DROP</span><span class="p">,</span><span class="k">INSERT</span><span class="p">,</span><span class="k">UPDATE</span><span class="p">,</span><span class="k">DELETE</span><span class="p">,</span><span class="k">SELECT</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">test</span><span class="p">.</span><span class="o">*</span><span class="w"> </span><span class="k">TO</span><span class="w"> </span><span class="s1">&#39;user1&#39;</span><span class="o">@</span><span class="s1">&#39;localhost&#39;</span><span class="p">;</span>

<span class="n">eg</span><span class="p">:</span><span class="err">给</span><span class="n">user2用户分配对所有数据库操作的权限</span>
<span class="k">grant</span><span class="w"> </span><span class="k">all</span><span class="w"> </span><span class="k">on</span><span class="w"> </span><span class="n">test</span><span class="p">.</span><span class="o">*</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="s1">&#39;user1&#39;</span><span class="o">@</span><span class="w"> </span><span class="s1">&#39;%&#39;</span>
</code></pre></div>
<ol>
<li>撤销权限</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="k">REVOKE</span><span class="w">  </span><span class="err">权限</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="err">权限</span><span class="mi">2</span><span class="p">...</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="err">数据库</span><span class="p">.</span><span class="err">表名</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="s1">&#39;用户名&#39;</span><span class="o">@</span><span class="s1">&#39;主机名&#39;</span><span class="p">;</span>

<span class="n">eg</span><span class="p">:</span><span class="err">撤销</span><span class="n">user1用户对test操作的权限</span>
<span class="k">revoke</span><span class="w"> </span><span class="k">all</span><span class="w"> </span><span class="k">on</span><span class="w"> </span><span class="n">test</span><span class="p">.</span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="s1">&#39;user1&#39;</span><span class="w"> </span><span class="o">@</span><span class="w"> </span><span class="s1">&#39;localhost&#39;</span>
</code></pre></div>
<ol>
<li>查看权限</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="k">SHOW</span><span class="w"> </span><span class="k">GRANTS</span><span class="w"> </span><span class="k">FOR</span><span class="w"> </span><span class="s1">&#39;用户名&#39;</span><span class="nv">@&#39;主机名&#39;</span><span class="p">;</span>
</code></pre></div>
<ol>
<li>删除用户</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="k">DROP</span><span class="w"> </span><span class="k">USER</span><span class="w"> </span><span class="s1">&#39;用户名&#39;</span><span class="o">@</span><span class="s1">&#39;主机名&#39;</span><span class="p">;</span>
</code></pre></div>
<ol>
<li>修改密码</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="o">#</span><span class="w"> </span><span class="err">修改管理员密码</span>
<span class="n">mysqladmin</span><span class="w"> </span><span class="o">-</span><span class="n">uroot</span><span class="w"> </span><span class="o">-</span><span class="n">p</span><span class="w"> </span><span class="n">password</span><span class="w"> </span><span class="err">新密码</span><span class="w">  </span><span class="c1">-- 新密码不需要加上引号</span>
<span class="err">输入老密码</span>
<span class="o">#</span><span class="w"> </span><span class="err">修改普通用户密码</span>
<span class="mi">1</span><span class="p">.</span><span class="w"> </span><span class="err">先登录</span>
<span class="k">set</span><span class="w"> </span><span class="n">password</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="s1">&#39;用户名&#39;</span><span class="o">@</span><span class="s1">&#39;主机名&#39;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">password</span><span class="p">(</span><span class="s1">&#39;新密码&#39;</span><span class="p">);</span>
</code></pre></div>
<h4 id="3">3. 约束</h4>
<div class="highlight"><pre><span></span><code><span class="o">#</span><span class="w"> </span><span class="err">第一种方式</span>
<span class="k">create</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="k">not</span><span class="w"> </span><span class="k">exists</span><span class="w"> </span><span class="n">t_name</span><span class="p">(</span>
<span class="w">    </span><span class="n">tid</span><span class="w"> </span><span class="nb">int</span><span class="w"> </span><span class="k">primary</span><span class="w"> </span><span class="k">key</span>
<span class="p">)</span>

<span class="o">#</span><span class="w"> </span><span class="err">第二种方式</span><span class="p">:</span><span class="n">constraint域</span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">category</span><span class="p">(</span>
<span class="w">  </span><span class="n">cid</span><span class="w"> </span><span class="nb">INT</span><span class="p">,</span>
<span class="w">  </span><span class="n">cname</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">10</span><span class="p">),</span>
<span class="w">  </span><span class="n">cdesc</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">10</span><span class="p">),</span>
<span class="w">  </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">cid</span><span class="p">)</span>
<span class="p">);</span>

<span class="o">#</span><span class="w"> </span><span class="err">第三种方式</span>
<span class="k">ALTER</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">category</span><span class="w"> </span><span class="k">ADD</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">cid</span><span class="p">);</span>
</code></pre></div>
<h5 id="31">3.1 主键约束</h5>
<div class="highlight"><pre><span></span><code><span class="o">#</span><span class="w"> </span><span class="err">正常</span>
<span class="k">primary</span><span class="w"> </span><span class="k">key</span>

<span class="o">#</span><span class="w"> </span><span class="err">联合主键</span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">person</span><span class="p">(</span>
<span class="w">  </span><span class="n">xing</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">10</span><span class="p">),</span>
<span class="w">  </span><span class="n">ming</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">10</span><span class="p">),</span>
<span class="w">  </span><span class="n">age</span><span class="w"> </span><span class="nb">INT</span><span class="p">,</span>
<span class="w">  </span><span class="n">sex</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span>
<span class="w">  </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">xing</span><span class="p">,</span><span class="n">ming</span><span class="p">)</span>
<span class="p">);</span>

<span class="o">#</span><span class="w"> </span><span class="err">删除主键约束</span>
<span class="k">alter</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="k">drop</span><span class="w"> </span><span class="k">primary</span><span class="w"> </span><span class="k">key</span><span class="p">;</span>
</code></pre></div>
<h5 id="32">3.2 自增长约束</h5>
<div class="highlight"><pre><span></span><code><span class="n">auto_increment</span>
</code></pre></div>
<p>知识点：delete 与 truncat 的区别</p>
<table>
<thead>
<tr>
<th><strong>特性</strong></th>
<th><strong>DELETE FROM table_name [WHERE condition]</strong></th>
<th><strong>TRUNCATE TABLE table_name</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>SQL 类型</strong></td>
<td><strong>DML</strong> (数据操作语言)</td>
<td><strong>DDL</strong> (数据定义语言)</td>
</tr>
<tr>
<td><strong>事务处理</strong></td>
<td>可以回滚 (<strong>Rollback</strong>)。每删除一行都会记录日志。</td>
<td>无法回滚。操作被视为一个整体的 DDL 事务。</td>
</tr>
<tr>
<td><strong>速度</strong></td>
<td>较慢。需要逐行删除并记录日志。</td>
<td><strong>极快。</strong> 释放表占用的整个存储空间。</td>
</tr>
<tr>
<td><strong>WHERE子句</strong></td>
<td><strong>支持。</strong> 可以根据条件删除部分数据。</td>
<td><strong>不支持。</strong> 只能删除表中的所有数据。</td>
</tr>
<tr>
<td><strong>自增ID</strong></td>
<td><strong>不重置。</strong> 下次插入时会继续使用旧的最大 ID 值。</td>
<td><strong>重置。</strong> 自增列（如 <code>AUTO_INCREMENT</code>）的值会被重置为起始值（通常是 1）。</td>
</tr>
<tr>
<td><strong>操作方式</strong></td>
<td>逐行删除数据，并保留表结构和空间（直到被重用）。</td>
<td>释放整个表数据页，相当于重建了一个空表。</td>
</tr>
<tr>
<td><strong>触发器</strong></td>
<td>会触发 <code>DELETE</code> 相关的触发器。</td>
<td>不会触发 <code>DELETE</code> 相关的触发器。</td>
</tr>
</tbody>
</table>
<h5 id="33">3.3 非空约束</h5>
<div class="highlight"><pre><span></span><code><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span>
<span class="err">注：不能为空指不能等于</span><span class="w"> </span><span class="k">NULL</span><span class="err">，</span><span class="w"> </span><span class="err">空串可以</span>
</code></pre></div>
<h5 id="34">3.4 唯一约束</h5>
<div class="highlight"><pre><span></span><code><span class="mf">1.</span><span class="n">关键字</span><span class="o">:</span><span class="k">UNIQUE</span>
<span class="mf">2.</span><span class="n">特点</span><span class="o">:</span>
<span class="w">  </span><span class="n">a</span><span class="p">.</span><span class="n">被unique修饰的列中的数据</span><span class="p">,</span><span class="n">必须是唯一的</span><span class="p">,</span><span class="n">不能重复</span>
<span class="mf">3.</span><span class="n">唯一约束和主键约束区别</span><span class="o">:</span>
<span class="w">  </span><span class="n">a</span><span class="p">.</span><span class="n">一个表中只能有一个主键约束</span>
<span class="w">  </span><span class="n">b</span><span class="p">.</span><span class="n">一个表中能有多个唯一约束</span>
<span class="w">  </span><span class="n">c</span><span class="p">.</span><span class="n">主键约束可以代表一条数据</span><span class="p">,</span><span class="n">相当于人得身份证号</span>
<span class="w">  </span><span class="n">d</span><span class="p">.</span><span class="n">唯一约束只能限制数据不重复</span><span class="p">,</span><span class="n">不能完全代表一条数据</span>
</code></pre></div>
<h4 id="4">4. 数据库的备份与还原</h4>
<p>备份：</p>
<div class="highlight"><pre><span></span><code>mysqldump  -u用户名 -p密码 数据库名&gt;生成的脚本文件路径
生成的脚本文件路径:指定备份的路径,写路径时最后要指明备份的sql文件名,命令后不要加;
</code></pre></div>
<p>还原：</p>
<div class="highlight"><pre><span></span><code>mysql  -uroot  -p密码 数据库名 &lt; 文件路径
注意:我们利用命令备份出来的sql文件中没有单独创建数据库的语句,所以如果利用命令去还原的话,需要我们自己手动先创建对应的库
    命令后不要加;
</code></pre></div>
<h4 id="5">5. 数据库三范式</h4>
<p>依赖：知道了某个属性集的值，就能确定另一个属性集的值。</p>
<p>一范式：所有字段都是原子的，不可再分的</p>
<p>二范式：满足 1NF， 同时不存在非主属性对主键的部分依赖</p>
<p>三范式：满足 2NF， 并且不存在非主属之间的传递依赖</p>
<pre><code>表中的任何非主键字段都不能依赖于另一个非主键字段。它们必须直接依赖于主键。
</code></pre>
<h2 id="_2">二、单表查询</h2>
<h4 id="1_1">1. 简单查询</h4>
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">t_name</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="p">...;</span>
<span class="o">#</span><span class="w"> </span><span class="err">给列起别名</span>
<span class="k">select</span><span class="w"> </span><span class="n">field1</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">new_field_name</span><span class="w"> </span><span class="p">...</span><span class="w"> </span>
</code></pre></div>
<h4 id="2">2. 条件查询</h4>
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="err">表名</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="err">条件</span>
<span class="k">select</span><span class="w"> </span><span class="err">列名</span><span class="p">,</span><span class="err">列名</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="err">表名</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="err">条件</span>

<span class="err">比较运算符：</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>
<span class="err">逻辑运算符：</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="k">or</span><span class="w"> </span><span class="k">not</span>
<span class="err">特殊运算符：</span><span class="k">in</span><span class="p">,</span><span class="w"> </span><span class="k">not</span><span class="w"> </span><span class="k">in</span><span class="p">,</span><span class="w"> </span><span class="k">between</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="k">and</span><span class="w">  </span><span class="p">...,</span><span class="w"> </span><span class="k">like</span><span class="p">,</span><span class="w"> </span><span class="k">not</span><span class="w"> </span><span class="k">like</span><span class="p">,</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="k">null</span><span class="p">,</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="k">not</span><span class="w"> </span><span class="k">null</span>
</code></pre></div>
<h4 id="3_1">3. 排序查询</h4>
<div class="highlight"><pre><span></span><code><span class="mi">1</span><span class="p">.</span><span class="err">关键字</span><span class="p">:</span><span class="w"> </span><span class="k">order</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="k">asc</span><span class="o">|</span><span class="k">desc</span>

<span class="mi">2</span><span class="p">.</span><span class="err">语法</span><span class="p">:</span>
<span class="k">select</span><span class="w"> </span><span class="err">列名</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="err">表名</span><span class="w"> </span><span class="k">order</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="err">排序列名</span><span class="w"> </span><span class="k">asc</span><span class="o">|</span><span class="k">desc</span>

<span class="mi">3</span><span class="p">.</span><span class="err">排序规则</span><span class="p">:</span>
<span class="n">a</span><span class="p">.</span><span class="k">asc</span><span class="p">(</span><span class="err">默认</span><span class="p">):</span><span class="err">升序</span>
<span class="n">b</span><span class="p">.</span><span class="k">desc</span><span class="p">:</span><span class="err">降序</span>

<span class="mi">4</span><span class="p">.</span><span class="err">问题</span><span class="p">:</span>
<span class="err">先查询</span><span class="p">,</span><span class="err">还是先排序</span><span class="o">?</span><span class="w">   </span><span class="o">-&gt;</span><span class="w"> </span><span class="err">先查询</span><span class="p">,</span><span class="err">查询出结果来</span><span class="p">,</span><span class="err">最后对结果进行排序</span>
<span class="err">书写</span><span class="n">sql语句关键字的顺序</span>
<span class="k">select</span><span class="w"> </span>
<span class="k">from</span><span class="w"> </span>
<span class="k">where</span><span class="w"> </span>
<span class="k">group</span><span class="w"> </span><span class="k">by</span><span class="w"> </span>
<span class="k">having</span><span class="w"> </span>
<span class="k">order</span><span class="w"> </span><span class="k">by</span>

<span class="err">执行顺序</span><span class="p">:</span>
<span class="k">from</span><span class="w"> </span>
<span class="k">where</span><span class="w"> </span>
<span class="k">group</span><span class="w"> </span><span class="k">by</span><span class="w"> </span>
<span class="k">having</span><span class="w"> </span>
<span class="k">select</span><span class="w"> </span>
<span class="k">order</span><span class="w"> </span><span class="k">by</span>

<span class="err">先定位到要查询哪个表</span><span class="p">,</span><span class="err">然后根据什么条件去查</span><span class="p">,</span><span class="err">表确定好了</span><span class="p">,</span><span class="err">条件也确定好了</span><span class="p">,</span><span class="err">开始利用</span><span class="n">select查询</span>
<span class="err">查询得出一个结果</span><span class="p">,</span><span class="err">在针对这个结果进行一个排序</span>
</code></pre></div>
<h4 id="4_1">4. 聚合查询</h4>
<div class="highlight"><pre><span></span><code><span class="mi">1</span><span class="p">.</span><span class="err">需要用到聚合函数</span>
<span class="mi">2</span><span class="p">.</span><span class="err">函数</span><span class="p">:</span><span class="err">对指定列的数据进行操作的</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="err">纵向查询</span>
<span class="mi">3</span><span class="p">.</span><span class="err">聚合函数</span><span class="p">:</span>
<span class="w">  </span><span class="k">count</span><span class="p">(</span><span class="o">*</span><span class="p">)</span><span class="w"> </span><span class="err">统计总记录数</span>
<span class="w">  </span><span class="k">sum</span><span class="p">(</span><span class="err">列名</span><span class="p">)</span><span class="w"> </span><span class="err">对指定列求和</span>
<span class="w">  </span><span class="k">avg</span><span class="p">(</span><span class="err">列名</span><span class="p">)</span><span class="w"> </span><span class="err">对指定列求平均值</span>
<span class="w">  </span><span class="k">max</span><span class="p">(</span><span class="err">列名</span><span class="p">)</span><span class="w"> </span><span class="err">对指定列求最大值</span>
<span class="w">  </span><span class="k">min</span><span class="p">(</span><span class="err">列名</span><span class="p">)</span><span class="w"> </span><span class="err">对指定列求最小值</span>
</code></pre></div>
<h4 id="5_1">5. 分组查询</h4>
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="err">聚合函数</span><span class="p">(</span><span class="err">列名</span><span class="p">)</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="err">表名</span><span class="w"> </span><span class="k">group</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="err">分组列</span><span class="w"> </span><span class="k">having</span><span class="w"> </span><span class="err">条件</span>

<span class="n">where在分组查询之前执行</span>
<span class="n">having在分组查询之后执行</span>
</code></pre></div>
<h4 id="6">6. 分页查询</h4>
<div class="highlight"><pre><span></span><code>select * from 表名 limit m,n
</code></pre></div>
<h2 id="_3">三、多表查询</h2>
<h4 id="1_2">1. 交叉查询</h4>
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">t_a</span><span class="p">,</span><span class="w"> </span><span class="n">t_b</span>
</code></pre></div>
<h4 id="2_1">2. 内连接查询</h4>
<div class="highlight"><pre><span></span><code><span class="k">inner</span><span class="w"> </span><span class="k">join</span><span class="w"> </span><span class="k">on</span><span class="w">  </span><span class="p">[</span><span class="k">inner</span><span class="w"> </span><span class="err">可以省略掉</span><span class="p">]</span>

<span class="n">a</span><span class="p">.</span><span class="err">显示内连接</span><span class="p">:</span><span class="k">select</span><span class="w"> </span><span class="err">列名</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="err">表</span><span class="n">A</span><span class="w"> </span><span class="k">join</span><span class="w"> </span><span class="err">表</span><span class="n">B</span><span class="w"> </span><span class="k">on</span><span class="w"> </span><span class="err">条件</span><span class="w"> </span>
<span class="n">b</span><span class="p">.</span><span class="err">隐式内连接</span><span class="p">:</span><span class="k">select</span><span class="w"> </span><span class="err">列名</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="err">表</span><span class="n">A</span><span class="p">,</span><span class="err">表</span><span class="n">B</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="err">条件</span><span class="w"> </span>
</code></pre></div>
<h4 id="3_2">3. 外连接</h4>
<div class="highlight"><pre><span></span><code>1.关键字:outer left|right join on -&gt; outer可以省略
2.分类:
  a.左外连接: select 列名 from 表A left join 表B on 条件
  b.右外连接: select 列名 from 表A right join 表B on 条件
3.如何区分左表和右表呢?
  在join左边的就是左表
  在join右边的就是右表
4.左外连接,有外连接以及内连接的区别:
  a.左外连接:查询的是和右表的交集以及左表其他数据(未交集部分)
  b.右外连接:查询的是和左表的交集以及右表其他数据(未交集部分)
  c.内连接:只查询交集
</code></pre></div>
<h4 id="4_2">4. 全外连接</h4>
<div class="highlight"><pre><span></span><code><span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">category</span><span class="w"> </span><span class="k">c</span><span class="w"> </span><span class="k">LEFT</span><span class="w"> </span><span class="k">JOIN</span><span class="w"> </span><span class="n">products</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="k">c</span><span class="p">.</span><span class="o">`</span><span class="n">cid</span><span class="o">`</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">p</span><span class="p">.</span><span class="o">`</span><span class="n">category_id</span><span class="o">`</span>
<span class="k">UNION</span>
<span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">category</span><span class="w"> </span><span class="k">c</span><span class="w"> </span><span class="k">RIGHT</span><span class="w"> </span><span class="k">JOIN</span><span class="w"> </span><span class="n">products</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="k">c</span><span class="p">.</span><span class="o">`</span><span class="n">cid</span><span class="o">`</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">p</span><span class="p">.</span><span class="o">`</span><span class="n">category_id</span><span class="o">`</span><span class="p">;</span>
</code></pre></div>
<h4 id="5_2">5. 子查询</h4>
<div class="highlight"><pre><span></span><code><span class="mi">1</span><span class="p">.</span><span class="err">一条</span><span class="n">select语句作为另外一条select语句的条件使用</span>

<span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">products</span><span class="w"> </span><span class="k">WHERE</span><span class="w"> </span><span class="n">category_id</span><span class="w"> </span><span class="k">IN</span><span class="w"> </span><span class="p">(</span><span class="k">SELECT</span><span class="w"> </span><span class="n">cid</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">category</span><span class="w"> </span><span class="k">WHERE</span><span class="w"> </span><span class="n">cname</span><span class="w"> </span><span class="k">IN</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;家电&#39;</span><span class="p">,</span><span class="s1">&#39;化妆品&#39;</span><span class="p">));</span>


<span class="mi">2</span><span class="p">.</span><span class="w"> </span><span class="err">将一个</span><span class="n">select的查询结果作为一张伪表</span><span class="p">,</span><span class="err">和其他的表做多表联查</span>
<span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="p">(</span><span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">category</span><span class="w"> </span><span class="k">WHERE</span><span class="w"> </span><span class="n">cname</span><span class="w"> </span><span class="k">IN</span><span class="p">(</span><span class="s1">&#39;家电&#39;</span><span class="p">,</span><span class="s1">&#39;化妆品&#39;</span><span class="p">))</span><span class="w"> </span><span class="k">c</span><span class="p">,</span><span class="n">products</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="k">WHERE</span><span class="w"> </span><span class="k">c</span><span class="p">.</span><span class="o">`</span><span class="n">cid</span><span class="o">`</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">p</span><span class="p">.</span><span class="o">`</span><span class="n">category_id</span><span class="o">`</span>
</code></pre></div>
<h2 id="mysql_1">四、MySql 常用函数</h2>
<h4 id="1_3">1. 字符串函数</h4>
<table>
<thead>
<tr>
<th>函数</th>
<th>用法</th>
</tr>
</thead>
<tbody>
<tr>
<td>CONCAT(S1,S2,......,Sn)</td>
<td>连接S1,S2,......,Sn为一个字符串</td>
</tr>
<tr>
<td>CONCAT_WS(separator, S1,S2,......,Sn)</td>
<td>连接S1一直到Sn，并且中间以separator作为分隔符</td>
</tr>
<tr>
<td>UPPER(s) 或 UCASE(s)</td>
<td>将字符串s的所有字母转成大写字母</td>
</tr>
<tr>
<td>LOWER(s) 或LCASE(s)</td>
<td>将字符串s的所有字母转成小写字母</td>
</tr>
<tr>
<td>TRIM(s)</td>
<td>去掉字符串s开始与结尾的空格</td>
</tr>
<tr>
<td>SUBSTRING(s,index,len)</td>
<td>返回从字符串s的index位置其len个字符</td>
</tr>
</tbody>
</table>
<h4 id="2_2">2. 数值函数</h4>
<table>
<thead>
<tr>
<th>函数</th>
<th>用法</th>
</tr>
</thead>
<tbody>
<tr>
<td>ABS(x)</td>
<td>返回x的绝对值</td>
</tr>
<tr>
<td>CEIL(x)</td>
<td>返回大于x的最小整数值</td>
</tr>
<tr>
<td>FLOOR(x)</td>
<td>返回小于x的最大整数值</td>
</tr>
<tr>
<td>RAND()</td>
<td>返回0~1的随机值</td>
</tr>
<tr>
<td>POW(x,y)</td>
<td>返回x的y次方</td>
</tr>
</tbody>
</table>
<h4 id="3_3">3. 日期函数</h4>
<table>
<thead>
<tr>
<th>函数</th>
<th>用法</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>CURDATE()</strong> 或 CURRENT_DATE()</td>
<td>返回当前日期 年月日</td>
</tr>
<tr>
<td><strong>CURTIME()</strong> 或 CURRENT_TIME()</td>
<td>返回当前时间 时分秒</td>
</tr>
<tr>
<td><strong>NOW()</strong> / SYSDATE() / CURRENT_TIMESTAMP() / LOCALTIME() / LOCALTIMESTAMP()</td>
<td>返回当前系统日期时间</td>
</tr>
<tr>
<td>DATEDIFF(date1,date2) / TIMEDIFF(time1, time2)</td>
<td>返回date1 - date2的日期间隔 / 返回time1 - time2的时间间隔</td>
</tr>
</tbody>
</table>
<h4 id="4_3">4. 流程函数</h4>
<table>
<thead>
<tr>
<th>函数</th>
<th>用法</th>
</tr>
</thead>
<tbody>
<tr>
<td>IF(比较,t ,f) 里面的t和f是两个结果</td>
<td>如果比较是真，返回t，否则返回f</td>
</tr>
<tr>
<td>IFNULL(value1, value2)</td>
<td>如果value1不为空，返回value1，否则返回value2</td>
</tr>
<tr>
<td>CASE WHEN 条件1 THEN result1 WHEN 条件2 THEN result2 .... [ELSE resultn] END</td>
<td>相当于Java的if...else if...else...</td>
</tr>
</tbody>
</table>
<div class="highlight"><pre><span></span><code><span class="k">SELECT</span><span class="w"> </span>
<span class="w">  </span><span class="n">uname</span><span class="p">,</span>
<span class="w">  </span><span class="k">CASE</span>
<span class="w">    </span><span class="k">WHEN</span><span class="w"> </span><span class="n">age</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">12</span><span class="w"> </span>
<span class="w">    </span><span class="k">THEN</span><span class="w"> </span><span class="s1">&#39;儿童&#39;</span><span class="w"> </span>
<span class="w">    </span><span class="k">WHEN</span><span class="w"> </span><span class="n">age</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">18</span><span class="w"> </span>
<span class="w">    </span><span class="k">THEN</span><span class="w"> </span><span class="s1">&#39;少年&#39;</span><span class="w"> </span>
<span class="w">    </span><span class="k">WHEN</span><span class="w"> </span><span class="n">age</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">40</span><span class="w"> </span>
<span class="w">    </span><span class="k">THEN</span><span class="w"> </span><span class="s1">&#39;中年&#39;</span><span class="w"> </span>
<span class="w">    </span><span class="k">ELSE</span><span class="w"> </span><span class="s1">&#39;老年&#39;</span><span class="w"> </span><span class="k">END</span><span class="w"> </span><span class="n">age</span><span class="p">,</span>
<span class="w">    </span><span class="n">sex</span><span class="w"> </span>
<span class="k">FROM</span>
<span class="w">  </span><span class="n">t_user</span><span class="w"> </span><span class="p">;</span>
</code></pre></div>
<h2 id="jdbc">五、JDBC</h2>
<p>JDBC技术中包含了以下四个对象：</p>
<p>1、DriverManager：驱动管理类</p>
<p>2、Connection接口：连接对象</p>
<p>3、Statement接口：执行sql语句</p>
<p>4、ResultSet接口：处理查询之后的结果集</p>
<h4 id="1_4">1. 使用方法</h4>
<p>导入依赖</p>
<div class="highlight"><pre><span></span><code>&lt;dependency&gt;  
    &lt;groupId&gt;mysql&lt;/groupId&gt;  
    &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;  
    &lt;version&gt;8.0.33&lt;/version&gt;  
&lt;/dependency&gt;
</code></pre></div>
<p>注册驱动 DriverManager</p>
<div class="highlight"><pre><span></span><code>DriverManager.class
</code></pre></div>
<p>获取 connection 连接</p>
<div class="highlight"><pre><span></span><code><span class="c1">// 2. 获取连接  </span>
<span class="n">String</span><span class="w"> </span><span class="n">url</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;jdbc:mysql://localhost:3306/test?serverTimezone=UTC&quot;</span><span class="p">;</span><span class="w">  </span>
<span class="n">String</span><span class="w"> </span><span class="n">user</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;root&quot;</span><span class="p">;</span><span class="w">  </span>
<span class="n">String</span><span class="w"> </span><span class="n">password</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;liuqiang&quot;</span><span class="p">;</span><span class="w">  </span>

<span class="n">Connection</span><span class="w"> </span><span class="n">connection</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">DriverManager</span><span class="p">.</span><span class="na">getConnection</span><span class="p">(</span><span class="n">url</span><span class="p">,</span><span class="w"> </span><span class="n">user</span><span class="p">,</span><span class="w"> </span><span class="n">password</span><span class="p">);</span>
</code></pre></div>
<p>执行sql语句 Statement</p>
<div class="highlight"><pre><span></span><code><span class="c1">// 准备sql  </span>
<span class="n">String</span><span class="w"> </span><span class="n">sql</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;insert into product (pname, pdesc) values (&#39;南瓜&#39;, &#39;好吃&#39;);&quot;</span><span class="p">;</span><span class="w">  </span>


<span class="c1">// 执行sql  </span>
<span class="n">Statement</span><span class="w"> </span><span class="n">statement</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">connection</span><span class="p">.</span><span class="na">createStatement</span><span class="p">();</span><span class="w">  </span>
<span class="n">statement</span><span class="p">.</span><span class="na">executeUpdate</span><span class="p">(</span><span class="n">sql</span><span class="p">);</span>
</code></pre></div>
<p>处理结果集 ResultSet</p>
<div class="highlight"><pre><span></span><code><span class="c1">// 执行sql  </span>
<span class="n">Statement</span><span class="w"> </span><span class="n">statement</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">connection</span><span class="p">.</span><span class="na">createStatement</span><span class="p">();</span><span class="w">  </span>
<span class="n">ResultSet</span><span class="w"> </span><span class="n">resultSet</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">statement</span><span class="p">.</span><span class="na">executeQuery</span><span class="p">(</span><span class="s">&quot;select * from product&quot;</span><span class="p">);</span><span class="w">  </span>

<span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">resultSet</span><span class="p">.</span><span class="na">next</span><span class="p">())</span><span class="w"> </span><span class="p">{</span><span class="w">  </span>
<span class="w">    </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;pid:&quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">resultSet</span><span class="p">.</span><span class="na">getInt</span><span class="p">(</span><span class="mi">1</span><span class="p">));</span><span class="w">  </span>
<span class="w">    </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;pname:&quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">resultSet</span><span class="p">.</span><span class="na">getString</span><span class="p">(</span><span class="mi">2</span><span class="p">));</span><span class="w">  </span>
<span class="w">    </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;pdesc:&quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">resultSet</span><span class="p">.</span><span class="na">getString</span><span class="p">(</span><span class="mi">3</span><span class="p">));</span><span class="w">  </span>
<span class="p">}</span><span class="w">  </span>

<span class="c1">// 3. 释放资源  </span>
<span class="n">statement</span><span class="p">.</span><span class="na">close</span><span class="p">();</span><span class="w">  </span>
<span class="n">connection</span><span class="p">.</span><span class="na">close</span><span class="p">();</span>
</code></pre></div>
<h4 id="2-preparedstatement">2. PreparedStatement</h4>
<div class="highlight"><pre><span></span><code><span class="mi">1</span><span class="p">.</span><span class="err">概述</span><span class="p">:</span><span class="n">PreparedStatement是一个接口</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="err">是</span><span class="w"> </span><span class="n">Statement接口的一个子接口</span>
<span class="mi">2</span><span class="p">.</span><span class="err">作用</span><span class="p">:</span><span class="err">防</span><span class="n">sql注入</span>
<span class="mi">3</span><span class="p">.</span><span class="err">特点</span><span class="p">:</span><span class="err">允许</span><span class="n">sql语句中用</span><span class="o">?</span><span class="p">,</span><span class="err">不是直接拼接字符串了</span><span class="p">,</span><span class="err">而是将值都用</span><span class="o">?</span><span class="err">占位</span><span class="p">,</span><span class="err">再单独为</span><span class="o">?</span><span class="err">赋值</span>
<span class="mi">4</span><span class="p">.</span><span class="err">获取</span><span class="p">:</span><span class="n">Connection中的方法</span>
<span class="w">  </span><span class="n">PreparedStatement</span><span class="w"> </span><span class="n">prepareStatement</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="k">sql</span><span class="p">)</span><span class="w">  </span>
<span class="mi">5</span><span class="p">.</span><span class="err">此时写</span><span class="n">sql可以这么写</span><span class="p">:</span>
<span class="w">  </span><span class="n">String</span><span class="w"> </span><span class="k">sql</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ss">&quot;select * from user where username = ? and password = ?&quot;</span>
<span class="mi">6</span><span class="p">.</span><span class="err">为</span><span class="o">?</span><span class="err">赋值</span><span class="p">:</span><span class="n">PreparedStatement中的方法</span>
<span class="w">  </span><span class="n">void</span><span class="w"> </span><span class="n">setObject</span><span class="p">(</span><span class="nb">int</span><span class="w"> </span><span class="n">parameterIndex</span><span class="p">,</span><span class="w"> </span><span class="k">Object</span><span class="w"> </span><span class="n">x</span><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="err">为指定的</span><span class="o">?</span><span class="err">赋值</span>
<span class="w">                 </span><span class="n">parameterIndex</span><span class="p">:</span><span class="err">传递的是第几个</span><span class="o">?</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="mi">1</span><span class="err">代表给第一个</span><span class="o">?</span><span class="err">赋值</span><span class="p">,</span><span class="mi">2</span><span class="err">代表为第二个</span><span class="o">?</span><span class="err">赋值</span><span class="p">...</span>
<span class="w">                 </span><span class="n">x</span><span class="p">:</span><span class="err">给</span><span class="o">?</span><span class="err">赋的具体的值</span>
<span class="mi">7</span><span class="p">.</span><span class="err">执行</span><span class="k">sql</span><span class="p">:</span>
<span class="w">  </span><span class="nb">int</span><span class="w"> </span><span class="n">executeUpdate</span><span class="p">()</span><span class="w"> </span><span class="err">针对于增删改操作</span>
<span class="w">  </span><span class="n">ResultSet</span><span class="w"> </span><span class="n">executeQuery</span><span class="p">()</span><span class="w"> </span><span class="err">针对于查询操作</span><span class="w">      </span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">ClassNotFoundException</span><span class="p">,</span><span class="w"> </span><span class="n">SQLException</span><span class="w"> </span><span class="p">{</span><span class="w">  </span>

<span class="w">    </span><span class="c1">// 1. 获取连接  </span>
<span class="w">    </span><span class="n">Connection</span><span class="w"> </span><span class="n">connection</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">JDBCUtils</span><span class="p">.</span><span class="na">getConnection</span><span class="p">();</span><span class="w">  </span>
<span class="w">    </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="w"> </span><span class="n">connection</span><span class="p">);</span><span class="w">  </span>

<span class="w">    </span><span class="c1">// 执行sql  </span>
<span class="w">    </span><span class="n">String</span><span class="w"> </span><span class="n">sql</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;select * from product where pid in (?, ?, ?)&quot;</span><span class="p">;</span><span class="w">  </span>
<span class="w">    </span><span class="n">PreparedStatement</span><span class="w"> </span><span class="n">preparedStatement</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">connection</span><span class="p">.</span><span class="na">prepareStatement</span><span class="p">(</span><span class="n">sql</span><span class="p">);</span><span class="w">  </span>

<span class="w">    </span><span class="n">preparedStatement</span><span class="p">.</span><span class="na">setInt</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span><span class="w">  </span>
<span class="w">    </span><span class="n">preparedStatement</span><span class="p">.</span><span class="na">setInt</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">);</span><span class="w">  </span>
<span class="w">    </span><span class="n">preparedStatement</span><span class="p">.</span><span class="na">setInt</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">);</span><span class="w">  </span>
<span class="w">    </span><span class="n">ResultSet</span><span class="w"> </span><span class="n">resultSet</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">preparedStatement</span><span class="p">.</span><span class="na">executeQuery</span><span class="p">();</span><span class="w">  </span>

<span class="w">    </span><span class="k">while</span><span class="p">(</span><span class="n">resultSet</span><span class="p">.</span><span class="na">next</span><span class="p">()){</span><span class="w">  </span>
<span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">resultSet</span><span class="p">.</span><span class="na">getInt</span><span class="p">(</span><span class="s">&quot;pid&quot;</span><span class="p">));</span><span class="w">  </span>
<span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">resultSet</span><span class="p">.</span><span class="na">getString</span><span class="p">(</span><span class="s">&quot;pname&quot;</span><span class="p">));</span><span class="w">  </span>
<span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">resultSet</span><span class="p">.</span><span class="na">getString</span><span class="p">(</span><span class="s">&quot;pdesc&quot;</span><span class="p">));</span><span class="w">  </span>
<span class="w">    </span><span class="p">}</span><span class="w">  </span>

<span class="w">    </span><span class="n">JDBCUtils</span><span class="p">.</span><span class="na">close</span><span class="p">(</span><span class="n">connection</span><span class="p">,</span><span class="w"> </span><span class="n">preparedStatement</span><span class="p">,</span><span class="w"> </span><span class="n">resultSet</span><span class="p">);</span><span class="w">  </span>

<span class="p">}</span>
</code></pre></div>
<h2 id="_4">六、事务以及连接池</h2>
<h4 id="1-preparedstatement">1. PreparedStatement 批量添加</h4>
<div class="highlight"><pre><span></span><code><span class="mi">1</span><span class="p">.</span><span class="err">注意</span><span class="p">:</span>
<span class="w">  </span><span class="n">a</span><span class="p">.</span><span class="n">mysql默认情况下不会批量添加</span><span class="p">,</span><span class="err">添加的时候都是一条一条添加的</span><span class="p">,</span><span class="err">我们这里所说的批量添加其实就是将多个要添加的数据先打包到内存</span><span class="p">,</span><span class="err">然后再将打包好的数据一起添加到数据库中</span><span class="p">,</span><span class="err">这样的话我们的效率会提高</span>
<span class="w">  </span><span class="n">b</span><span class="p">.</span><span class="err">由于</span><span class="n">mysql默认情况下不会批量添加</span><span class="p">,</span><span class="err">所以我们想要进行批量添加的操作</span><span class="p">,</span><span class="err">需要手动开启此功能</span>
<span class="mi">2</span><span class="p">.</span><span class="err">怎么开启</span><span class="p">:</span><span class="err">需要在数据库</span><span class="n">url后面加入开启批量添加的参数</span><span class="o">-&gt;</span><span class="w"> </span><span class="n">rewriteBatchedStatements</span><span class="o">=</span><span class="k">true</span><span class="w"> </span>
<span class="n">eg</span><span class="p">:</span><span class="n">jdbc</span><span class="p">:</span><span class="n">mysql</span><span class="p">:</span><span class="o">//</span><span class="n">localhost</span><span class="p">:</span><span class="mi">3306</span><span class="o">/</span><span class="mi">241023</span><span class="n">_database3</span><span class="o">?</span><span class="n">rewriteBatchedStatements</span><span class="o">=</span><span class="k">true</span>

<span class="mi">3</span><span class="p">.</span><span class="err">方法</span><span class="p">:</span><span class="err">用到</span><span class="n">PreparedStatement中的方法</span><span class="p">:</span>
<span class="w">  </span><span class="n">void</span><span class="w"> </span><span class="n">addBatch</span><span class="p">()</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="err">将一组数据保存起来</span><span class="p">,</span><span class="err">给数据打包</span><span class="p">,</span><span class="err">放到内存中</span>
<span class="w">  </span><span class="n">executeBatch</span><span class="p">()</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="err">将打包好的数据一起发送给</span><span class="n">mysql</span>
</code></pre></div>
<h4 id="2_3">2. 连接池</h4>
<div class="highlight"><pre><span></span><code>1.问题描述:
  我们之前每个操作都需要先获取一条新的连接对象,用完之后就需要销毁,如果频繁的去创建连接对象,销毁连接对象,会耗费内存资源

2.解决:提前先准备好连接对象,放到一个容器中,然后来了操作直接从这个容器中拿连接对象,用完之后还回去,至于连接的生命周期交给连接池来管理，而不再是我们手动管理了。
</code></pre></div>
<p><strong>在 springboot 项目中的用法：</strong></p>
<p>1、先导入依赖（jdbc场景启动器以及 mysql 驱动）</p>
<div class="highlight"><pre><span></span><code><span class="cm">&lt;!-- Spring Boot JDBC Starter（自动引入 HikariCP） --&gt;</span>
<span class="nt">&lt;dependency&gt;</span>
<span class="w">    </span><span class="nt">&lt;groupId&gt;</span>org.springframework.boot<span class="nt">&lt;/groupId&gt;</span>
<span class="w">    </span><span class="nt">&lt;artifactId&gt;</span>spring-boot-starter-jdbc<span class="nt">&lt;/artifactId&gt;</span>
<span class="nt">&lt;/dependency&gt;</span>

<span class="cm">&lt;!-- MySQL 驱动（以 MySQL 为例） --&gt;</span>
<span class="nt">&lt;dependency&gt;</span>
<span class="w">    </span><span class="nt">&lt;groupId&gt;</span>mysql<span class="nt">&lt;/groupId&gt;</span>
<span class="w">    </span><span class="nt">&lt;artifactId&gt;</span>mysql-connector-java<span class="nt">&lt;/artifactId&gt;</span>
<span class="w">    </span><span class="nt">&lt;scope&gt;</span>runtime<span class="nt">&lt;/scope&gt;</span>
<span class="nt">&lt;/dependency&gt;</span>
</code></pre></div>
<p><strong><code>starter</code> 的作用不是替代驱动，而是提供一套完整的、生产就绪的数据访问基础设施</strong>，让开发者聚焦业务，而不是底层细节。</p>
<p>2、配置数据源以及连接池</p>
<div class="highlight"><pre><span></span><code>spring:
  datasource:
    url: jdbc:mysql://localhost:3306/test?useSSL=false&amp;serverTimezone=Asia/Shanghai&amp;characterEncoding=utf8
    username: root
    password: liuqiang
    driver-class-name: com.mysql.cj.jdbc.Driver

    # HikariCP 连接池配置（可选，有默认值）
    hikari:
      pool-name: MyHikariPool
      maximum-pool-size: 20          # 最大连接数（默认 10）
      minimum-idle: 5                # 最小空闲连接（默认同 maximum-pool-size）
      idle-timeout: 30000            # 空闲连接超时时间（毫秒），需小于 max-lifetime
      max-lifetime: 1800000          # 连接最大存活时间（毫秒），默认 30 分钟
      connection-timeout: 20000      # 获取连接超时时间（毫秒）
      auto-commit: true              # 是否自动提交
      connection-test-query: SELECT 1 # 检测连接是否有效的 SQL（MySQL 可用）
</code></pre></div>
<ul>
<li>对于 <strong>MySQL 8+</strong>，<code>connection-test-query</code> 实际上<strong>不需要</strong>（Hikari 会用更高效的方式检测），但保留也无妨。</li>
<li>如果你用的是 <strong>PostgreSQL、Oracle 等</strong>，只需改 <code>url</code>、<code>driver-class-name</code> 和驱动依赖。</li>
</ul>
<h4 id="3_4">3. 事务</h4>
<h5 id="31_1">3.1 事务的概念</h5>
<p><strong>事务（Transaction）</strong> 是数据库管理系统（DBMS）中用于保证数据一致性和完整性的核心机制。它是一组<strong>逻辑上不可分割的数据库操作</strong>，这些操作要么<strong>全部成功执行</strong>，要么<strong>全部不执行</strong>，不会停留在中间状态。</p>
<table>
<thead>
<tr>
<th>特性</th>
<th>全称</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>A - 原子性（Atomicity）</strong></td>
<td>Atomicity</td>
<td>事务是一个原子单位，其中的操作“要么全做，要么全不做”。即使在执行过程中发生故障（如断电、异常），已执行的部分也会被回滚（Rollback），确保数据不处于半完成状态。</td>
</tr>
<tr>
<td><strong>C - 一致性（Consistency）</strong></td>
<td>Consistency</td>
<td>事务执行前后，数据库必须从一个<strong>一致性状态</strong>转移到另一个<strong>一致性状态</strong>。例如：转账操作中，A 账户减 100 元，B 账户加 100 元，总金额不变。</td>
</tr>
<tr>
<td><strong>I - 隔离性（Isolation）</strong></td>
<td>Isolation</td>
<td>多个并发事务之间互不干扰。一个事务的中间状态对其他事务不可见，防止脏读、不可重复读、幻读等问题。数据库通过<strong>隔离级别</strong>控制并发行为。</td>
</tr>
<tr>
<td><strong>D - 持久性（Durability）</strong></td>
<td>Durability</td>
<td>一旦事务提交（Commit），其对数据库的修改就是永久性的，即使系统崩溃也不会丢失。通常通过写入 redo log 等机制保证。</td>
</tr>
</tbody>
</table>
<div class="highlight"><pre><span></span><code><span class="w"> </span><span class="nd">@Test</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">transfer</span><span class="p">(){</span>
<span class="w">        </span><span class="n">Connection</span><span class="w"> </span><span class="n">connection</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">null</span><span class="p">;</span>
<span class="w">        </span><span class="k">try</span><span class="p">{</span>
<span class="w">            </span><span class="n">QueryRunner</span><span class="w"> </span><span class="n">qr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">QueryRunner</span><span class="p">();</span>
<span class="w">            </span><span class="n">connection</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">DruidUtils</span><span class="p">.</span><span class="na">getConnection</span><span class="p">();</span>
<span class="w">            </span><span class="c1">//开启事务</span>
<span class="w">            </span><span class="n">connection</span><span class="p">.</span><span class="na">setAutoCommit</span><span class="p">(</span><span class="kc">false</span><span class="p">);</span>
<span class="w">            </span><span class="n">String</span><span class="w"> </span><span class="n">outMoney</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;update account set money = money - ? where name = ?&quot;</span><span class="p">;</span>
<span class="w">            </span><span class="n">String</span><span class="w"> </span><span class="n">inMoney</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;update account set money = money + ? where name = ?&quot;</span><span class="p">;</span>
<span class="w">            </span><span class="n">qr</span><span class="p">.</span><span class="na">update</span><span class="p">(</span><span class="n">connection</span><span class="p">,</span><span class="n">outMoney</span><span class="p">,</span><span class="mi">1000</span><span class="p">,</span><span class="s">&quot;涛哥&quot;</span><span class="p">);</span>

<span class="w">            </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">0</span><span class="p">);</span>

<span class="w">            </span><span class="n">qr</span><span class="p">.</span><span class="na">update</span><span class="p">(</span><span class="n">connection</span><span class="p">,</span><span class="n">inMoney</span><span class="p">,</span><span class="mi">1000</span><span class="p">,</span><span class="s">&quot;萌姐&quot;</span><span class="p">);</span>
<span class="w">            </span><span class="c1">//提交事务</span>
<span class="w">            </span><span class="n">connection</span><span class="p">.</span><span class="na">commit</span><span class="p">();</span>

<span class="w">            </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;转账成功&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">Exception</span><span class="w"> </span><span class="n">e</span><span class="p">){</span>
<span class="w">            </span><span class="c1">//回滚事务</span>
<span class="w">            </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">connection</span><span class="p">.</span><span class="na">rollback</span><span class="p">();</span>
<span class="w">                </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;转账失败&quot;</span><span class="p">);</span>
<span class="w">            </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">SQLException</span><span class="w"> </span><span class="n">ex</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">e</span><span class="p">.</span><span class="na">printStackTrace</span><span class="p">();</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">            </span><span class="n">e</span><span class="p">.</span><span class="na">printStackTrace</span><span class="p">();</span>
<span class="w">        </span><span class="p">}</span><span class="k">finally</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">DruidUtils</span><span class="p">.</span><span class="na">close</span><span class="p">(</span><span class="n">connection</span><span class="p">,</span><span class="kc">null</span><span class="p">,</span><span class="kc">null</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">    </span><span class="p">}</span>
</code></pre></div>
<h5 id="32-threadlocal">3.2 ThreadLocal</h5>
<p><strong><code>ThreadLocal</code></strong> 是 Java 提供的一个线程局部变量（Thread-Local Variable）工具类，用于在<strong>每个线程内部保存一份独立的变量副本</strong>。不同线程之间的变量互不干扰，从而实现线程安全。</p>
<p><strong><code>ThreadLocal</code> 不是“解决并发”的工具，而是“规避并发”的设计技巧</strong> —— 通过让每个线程独占资源，从根本上避免竞争。</p>
<div class="highlight"><pre><span></span><code>1.概述:容器
2.创建:
  ThreadLocal&lt;E&gt; 对象名 = new ThreadLocal&lt;&gt;()
3.方法:
  set(数据): 存数据
  get():取数据
  remove():清空ThreadLocal
4.注意:
  a.一次只能存储一个数据
  b.在一个线程中往ThreadLocal中存储数据,在其他线程中获取不到
  c.在同一个线程中往TheadLocal中存储的数据,在此线程的其他位置都能共享     
  d.如果往ThreadLocal中存储数据,当前线程会和值直接绑死,只能在当前线程中获取,其他线程中获取不到    
</code></pre></div>
<h5 id="33_1">3.3 隔离级别</h5>
<p>数据库规范规定了4种隔离级别，分别用于描述两个事务并发的所有情况。</p>
<p>1、<strong>read uncommitted</strong> 读未提交，一个事务读到另一个事务没有提交的数据。</p>
<p>a)存在：3个问题（脏读、不可重复读、幻读）。</p>
<p>b)解决：0个问题</p>
<p>2、<strong>read committed</strong> 读已提交，一个事务读到另一个事务已经提交的数据。</p>
<p>a)存在：2个问题（不可重复读、虚读）。</p>
<p>b)解决：1个问题（脏读）</p>
<p>3、<strong>repeatable read</strong>:可重复读，在一个事务中读到的数据始终保持一致，无论另一个事务是否提交。</p>
<p>a)存在：1个问题（虚读）。</p>
<p>b)解决：2个问题（脏读、不可重复读）</p>
<p>4、<strong>serializable 串行化</strong>，同时只能执行一个事务，相当于事务中的单线程。</p>
<div class="highlight"><pre><span></span><code>1. 脏读：一个事务读到了另一个事务未提交的数据.
2. 不可重复读：一个事务读到了另一个事务已经提交(update)的数据。引发另一个事务，在事务中的多次查询结果不一致。
3. 虚读 /幻读：一个事务读到了另一个事务已经提交(insert)的数据。导致另一个事务，在事务中多次查询的结果不一致。
</code></pre></div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  回到页面顶部
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2026 LiuTianBa7 

    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "..", "features": ["navigation.tabs", "navigation.tracking", "navigation.top", "search.suggest", "search.highlight", "content.code.copy"], "search": "../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.79ae519e.min.js"></script>
      
    
  </body>
</html>